<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>WeatherPro - Advanced Weather App</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>

<body>
    <header>
        <div class="brand">
            <i class="fas fa-cloud-sun fa-lg"></i>
            <h1>WeatherPro</h1>
        </div>
        <nav>
            <a href="#current" aria-label="Go to Current Weather section">Current</a>
            <a href="#forecast" aria-label="Go to Forecast section">Forecast</a>
            <a href="#about" aria-label="Go to About section">About</a>
        </nav>
        <div class="settings-toggles">
            <div class="unit-toggle" id="unitToggleContainer">
                <span class="unit-label">°C</span>
                <label class="switch" aria-label="Toggle temperature unit between Celsius and Fahrenheit">
                    <input type="checkbox" id="unitToggle" />
                    <span class="slider"></span>
                </label>
                <span class="unit-label">°F</span>
            </div>
        </div>
    </header>

    <main>
        <section id="savedLocations" class="saved-locations-section" aria-label="Saved locations"></section>

        <section class="search-section" aria-label="Search for weather">
            <input type="text" id="cityInput" placeholder="Enter city name" aria-label="City name input"
                autocomplete="off" />
            <button id="searchBtn" class="neumorphic" aria-label="Get weather for city"
                title="Get weather for entered city">Get Weather</button>
            <button id="locBtn" class="neumorphic" title="Get weather for my current location"
                aria-label="Get weather for current location">
                <i class="fas fa-location-arrow"></i>
            </button>
        </section>

        <section id="current" class="weather-display neumorphic" tabindex="0" aria-live="polite" aria-atomic="true"
            aria-label="Current weather information"></section>

        <!-- Hourly forecast cards -->
        <section id="hourly-forecast" class="hourly-forecast-display">
            <h2>Hourly Forecast</h2>
            <div class="hourly-container" id="hourlyContainer">
                <!-- Example hourly card -->
                <div class="hourly-card">
                    <h3>03:00</h3>
                    <img src="icons/cloudy.png" alt="Cloudy">
                    <p>72°F</p>
                </div>
                <div class="hourly-card">
                    <h3>04:00</h3>
                    <img src="icons/rain.png" alt="Rain">
                    <p>72°F</p>
                </div>
                <!-- More cards will be generated dynamically -->
            </div>
        </section>

        <!-- Daily forecast cards -->
        <section id="forecast" class="forecast-display">
            <h2>Daily Forecast</h2>
            <div class="forecast-container" id="forecastContainer">
                <!-- Example daily card -->
                <div class="forecast-card">
                    <h3>Sat</h3>
                    <img src="icons/rain.png" alt="Moderate rain">
                    <p>81°F / 72°F</p>
                    <p>Moderate rain</p>
                </div>
                <div class="forecast-card">
                    <h3>Sun</h3>
                    <img src="icons/sun-rain.png" alt="Patchy rain nearby">
                    <p>82°F / 71°F</p>
                    <p>Patchy rain nearby</p>
                </div>
                <!-- More cards will be generated dynamically -->
            </div>
        </section>

        <!-- Weather History & Trends -->
        <section id="history" class="neumorphic" aria-label="Weather history for past 7 days" style="padding:14px;">
            <h2>Weather History (7 days)</h2>
            <canvas id="historyChart" height="220"></canvas>
            <div id="historyError" style="display:none; color: var(--danger); text-align:center; margin-top:8px;"></div>
        </section>

        <section id="lifestyle-section" class="lifestyle-container">
            <div id="activities-section" class="neumorphic">
                <h2>Activities</h2>
                <div class="activities-grid"></div>
            </div>
            <div id="allergies-section" class="neumorphic">
                <h2>Allergies</h2>
                <div class="allergies-grid"></div>
            </div>
        </section>

        <section id="map-section" class="map-container neumorphic">
            <h2>Live Weather Map</h2>
            <div class="map-controls">
                <button class="map-btn neumorphic active" data-layer="rain">Radar</button>
                <button class="map-btn neumorphic" data-layer="clouds">Clouds</button>
                <button class="map-btn neumorphic" data-layer="temp">Temperature</button>
            </div>
            <div id="windy-map"></div>
        </section>

        <section id="about" class="about-section neumorphic" tabindex="0">
            <h2>About WeatherPro</h2>
            <p>
                WeatherPro is your professional weather assistant, designed for accuracy, accessibility, and style.
                Built using modern web technologies, it provides real-time data, forecasts, activity ratings, and a
                live, interactive weather map from Windy.com.
            </p>
            <ul>
                <li><i class="fas fa-check-circle"></i> Real-time data with hourly updates</li>
                <li><i class="fas fa-check-circle"></i> Unit conversion (Celsius/Fahrenheit)</li>
                <li><i class="fas fa-check-circle"></i> Advanced interactive weather map</li>
                <li><i class="fas fa-check-circle"></i> Accessible and responsive Neumorphic UI</li>
            </ul>
        </section>
    </main>

    <footer class="neumorphic">
        <nav class="footer-nav" aria-label="Footer navigation">
            <a href="#current">Current</a>
            <a href="#forecast">Forecast</a>
            <a href="#about">About</a>
        </nav>
        <div class="footer-contact" aria-label="Contact information">
            <p>Contact us: <a href="mailto:info@weatherpro.com">info@weatherpro.com</a> | +1 555 1234</p>
        </div>
        <p>&copy; 2025 WeatherPro. All rights reserved.</p>
    </footer>

    <div class="loader" id="loader" aria-live="assertive" aria-label="Loading indicator"></div>

    <!-- Global weather animations overlay -->
    <div id="weather-anim" aria-hidden="true"></div>

    <link
        rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""
    />
    <script
        src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""
        defer
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js" defer></script>
    <script src="script.js" defer></script>
</body>

</html>